<main class="mt-20 relative" [class.h-screen]="productLoading">
  <app-loading-screen *ngIf="productLoading"></app-loading-screen>
  <div
    *ngIf="!productLoading"
    class="flex w-full items-center overflow-hidden bg-base-100 p-10 lg:px-40 lg:py-20"
  >
    <div
      class="grid w-full grid-cols-1 items-start gap-x-6 gap-y-8 sm:grid-cols-12 lg:gap-x-8"
    >
      <div
        class="aspect-w-2 min-h-72 sm:min-h-96 overflow-hidden rounded-lg bg-base-200 sm:col-span-4 lg:col-span-5"
      >
        <img
          [src]="product.image"
          alt="productImg"
          class="object-contain object-center"
        />
      </div>
      <div class="sm:col-span-8 lg:col-span-7">
        <h2 class="text-2xl font-bold sm:pr-12">{{ product.title }}</h2>

        <section aria-labelledby="information-heading" class="mt-2">
          <h3 id="information-heading" class="sr-only">Product information</h3>

          <p class="text-2xl">${{ product.price }}</p>

          <!-- Reviews -->
          <div class="mt-6">
            <h4 class="sr-only">Reviews</h4>
            <div class="flex items-center">
              <div class="flex items-center">
                <svg
                  *ngFor="
                    let i of [].constructor(Math.round(product.rating.rate))
                  "
                  class="text-gray-900 h-5 w-5 flex-shrink-0"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  aria-hidden="true"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z"
                    clip-rule="evenodd"
                  />
                </svg>
                <svg
                  *ngFor="
                    let i of [].constructor(5 - Math.round(product.rating.rate))
                  "
                  class="text-gray-200 h-5 w-5 flex-shrink-0"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  aria-hidden="true"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z"
                    clip-rule="evenodd"
                  />
                </svg>
              </div>
              <p class="sr-only">{{ product.rating.rate }} out of 5 stars</p>
              <a class="ml-3 text-sm font-medium text-info"
                >{{ product.rating.count }} reviews</a
              >
            </div>
          </div>
        </section>
        <section class="prose my-5 max-w-full">
          <h6 class="font-medium">
            Category: <span class="font-normal">{{ product.category }}</span>
          </h6>

          <p>
            {{ product.description }}
          </p>
        </section>

        <button
          (click)="addToCart()"
          class="mt-6 btn btn-primary rounded-md w-full"
        >
          Add to cart
        </button>
      </div>
    </div>
  </div>
</main>
